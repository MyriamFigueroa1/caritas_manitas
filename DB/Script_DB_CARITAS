-- DONANTES
CREATE TABLE DB_CARITAS.dbo.DONANTES (
	ID_DONANTE numeric(18,0) IDENTITY(1,1) NOT NULL,
	A_PATERNO varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	A_MATERNO varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NOMBRE varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	FECHA_NAC date NULL,
	EMAIL varchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	TEL_CASA numeric(18,0) NULL,
	TEL_OFICINA numeric(18,0) NULL,
	TEL_MOVIL numeric(13,0) NULL,
	ULTIMO_DONATIVO numeric(18,0) NULL,
	ID_GENERO numeric(18,0) NULL,
	CONSTRAINT PK_DONANTES PRIMARY KEY (ID_DONANTE)
);

-- EMPLEADOS
CREATE TABLE DB_CARITAS.dbo.EMPLEADOS (
	ID_EMPLEADO numeric(18,0) IDENTITY(1,1) NOT NULL,
	A_PATERNO varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	A_MATERNO varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NOMBRE varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	FECHA_NAC date NULL,
	EMAIL varchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	TEL_MOVIL numeric(13,0) NULL,
	ID_GENERO numeric(18,0) NULL,
	ROL bit NULL,
	CONSTRAINT PK_EMPLEADOS PRIMARY KEY (ID_EMPLEADO)
);

-- DIRECCION_COBRO
CREATE TABLE DB_CARITAS.dbo.DIRECCION_COBRO (
	ID_DIRECCION_COBRO numeric(18,0) IDENTITY(1,1) NOT NULL,
	ID_DONANTE numeric(18,0) NOT NULL,
	CALLE_PRINCIPAL varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CALLE_SECUNDARIA varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	COLONIA varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CODIGO_POST numeric(13,0) NOT NULL,
	NUM_EXT numeric(13,0) NOT NULL,
	NUM_INT numeric(18,0) NULL,
	MUNICIPIO varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK_DIRECCION_COBRO PRIMARY KEY (ID_DIRECCION_COBRO),
	CONSTRAINT FK_DireccionCobro_Donante FOREIGN KEY (ID_DONANTE) REFERENCES DB_CARITAS.dbo.DONANTES(ID_DONANTE)
);

-- OPE_ORDENES
CREATE TABLE DB_CARITAS.dbo.OPE_ORDENES (
	ID_ORDEN numeric(18,0) IDENTITY(1,1) NOT NULL,
	ID_DONANTE numeric(18,0) NOT NULL,
	ID_EMPLEADO numeric(18,0) NULL,
	FECHA_COBRO date NULL,
	FECHA_PAGO date NULL,
	FECHA_VISITA date NULL,
	IMPORTE float NULL,
	ESTATUS_PAGO_FINAL numeric(18,0) NULL,
    ESTATUS_PAGO_TEMPORAL numeric(18,0) NULL,
	COMENTARIOS varchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ID_DIRECCION_COBRO numeric(18,0) NULL,
	FECHA_CONFIRMACION datetime NULL,
	COMENTARIOS_CANCELACION varchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	COMENTARIOS_REPROGRAMACION varchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FECHA_REPROGRAMACION datetime NULL,
	REPROGRAMACION_TELEFONISTA numeric(1,0) DEFAULT 0 NULL,
	CONSTRAINT PK_OPE_ORDENES PRIMARY KEY (ID_ORDEN),
	CONSTRAINT FK_Ordenes_DireccionCobro FOREIGN KEY (ID_DIRECCION_COBRO) REFERENCES DB_CARITAS.dbo.DIRECCION_COBRO(ID_DIRECCION_COBRO),
	CONSTRAINT FK_Ordenes_Donante FOREIGN KEY (ID_DONANTE) REFERENCES DB_CARITAS.dbo.DONANTES(ID_DONANTE),
	CONSTRAINT FK_Ordenes_Empleado FOREIGN KEY (ID_EMPLEADO) REFERENCES DB_CARITAS.dbo.EMPLEADOS(ID_EMPLEADO)
);

-- OPE_INGRESO
CREATE TABLE DB_CARITAS.dbo.OPE_INGRESO (
	ID_INGRESO numeric(18,0) IDENTITY(1,1) NOT NULL,
	ID_EMPLEADO numeric(18,0) NOT NULL,
	USUARIO varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	SALT varchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	HASHVALUE varbinary(64) NOT NULL,
	CONSTRAINT PK__OPE_INGRESO PRIMARY KEY (ID_INGRESO),
	CONSTRAINT FK_OPE_INGRESO_EMPLEADOS FOREIGN KEY (ID_EMPLEADO) REFERENCES DB_CARITAS.dbo.EMPLEADOS(ID_EMPLEADO)
);
